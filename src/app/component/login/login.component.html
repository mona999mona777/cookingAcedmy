<div class="py-5 mt-3">
  <section class="pt-5 mt-5">
    <div
      class="container login-form-content shadow rounded-5 shadow-lg py-3 border border-light"
    >
      <h2 class="sec-color border-bottom border-light py-3">
        {{ "login.login Now" | translate }}
      </h2>
      <form [formGroup]="login" (ngSubmit)="loginfunction()">
        <div class="my-2">
          <label class="prag" for="email">{{
            "enroll.email" | translate
          }}</label>
          <input
            [ngClass]="{ 
              'is-valid':!login.get('email')?.errors && (login.get('email')?.touched ||
              login.get('email')?.dirty),
              'is-invalid':login.get('email')?.errors && (login.get('email')?.touched ||
              login.get('email')?.dirty),
           }"
            id="email"
            type="email"
            class="form-control"
            formControlName="email"
          />
          @if (login.get('email')?.errors && (login.get('email')?.touched ||
          login.get('email')?.dirty)) {
          <div class="alert alert-danger">
            @if (login.get('email')?.getError('required')) {
            <p class="m-0">{{ "formprag.email is required" | translate }}.</p>
            } @else if (login.get('email')?.getError('email')) {
            <p class="m-0">{{ "formprag.enter valid email" | translate }}.</p>
            }
          </div>
          }
        </div>
        <div class="my-2">
          <label class="prag" for="password">{{
            "enroll.password" | translate
          }}</label>
          <input
            [ngClass]="{ 
          'is-valid':!login.get('password')?.errors && (login.get('password')?.touched ||
          login.get('password')?.dirty),
          'is-invalid':login.get('password')?.errors && (login.get('password')?.touched ||
          login.get('password')?.dirty),
       }"
            id="password"
            type="password"
            class="form-control"
            formControlName="password"
          />
          @if (login.get('password')?.errors && (login.get('password')?.touched
          || login.get('password')?.dirty)) {
          <div class="alert alert-danger">
            @if (login.get('password')?.getError('required')) {
            <p class="m-0">
              {{ "formprag.password is required" | translate }}.
            </p>
            } @else if (login.get('password')?.getError('pattern')) {
            <p class="m-0">
              {{ "formprag.enter valid password" | translate }}.
            </p>
            }
          </div>
          }
        </div>
        <button
          class="btn-main d-block mt-3"
          [class.ms-auto]="LangText()"
          [class.me-auto]="!LangText()"
          type="submit"
        >
          {{ "login.login" | translate }} @if (isloading) {
          <span class="fas fa-spin fa-spinner"></span>}
        </button>

        <p class="text-center mt-3">
          <a
            class="text-primary text-decoration-underline cr"
            routerLink="/forgetpassword"
            >{{ "login.forget password ?" | translate }}</a
          >
        </p>

        @if (messgerror) {
        <p class="text-center alert alert-danger w-100 mx-auto my-3">
          {{ messgerror }}
        </p>
        } @if (messsuccess) {
        <p class="text-center alert alert-success w-50 mx-auto my-3">
          {{ messsuccess }}
        </p>
        } @if (messnotsuccess=="correct") {
        <p class="text-center alert alert-danger w-100 mx-auto my-3">
          {{
            "login.You are not a subscriber.the payment process has not been completed"
              | translate
          }}.
        </p>
        }
      </form>
    </div>
  </section>
</div>
