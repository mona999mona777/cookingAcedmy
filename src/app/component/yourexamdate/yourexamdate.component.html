<div class="pt-5 my-5">
  <section class="mt-5 pt-5">
    <div class="exam-content mx-auto shadow p-4 rounded-4 shadow-lg">
      <h1 class="h2 sec-color text-decoration-underline">
        {{ "exam.Select City Exam" | translate }}:
      </h1>
      <form [formGroup]="orderForm" (ngSubmit)="orderFunc()">
        <div class="my-2">
          <label class="prag" for="details">{{
            "enroll.Full Name" | translate
          }}</label>
          <input
            [ngClass]="{ 
              'is-valid':!orderForm.get('details')?.errors && (orderForm.get('details')?.touched ||
              orderForm.get('details')?.dirty),
              'is-invalid':orderForm.get('details')?.errors && (orderForm.get('details')?.touched ||
              orderForm.get('details')?.dirty),
           }"
            id="details"
            type="text"
            class="form-control"
            formControlName="details"
          />
          @if (orderForm.get('details')?.errors &&
          (orderForm.get('details')?.touched ||orderForm.get('details')?.dirty))
          {
          <div class="alert alert-danger">
            @if (orderForm.get('details')?.getError('required')) {
            <p class="m-0">{{ "formprag.name is required" | translate }}.</p>
            }
          </div>
          }
        </div>
        <div class="my-2">
          <label class="prag" for="phone">{{
            "enroll.phone" | translate
          }}</label>
          <input
            [ngClass]="{ 
              'is-valid':!orderForm.get('phone')?.errors && (orderForm.get('phone')?.touched ||
              orderForm.get('phone')?.dirty),
              'is-invalid':orderForm.get('phone')?.errors && (orderForm.get('phone')?.touched ||
              orderForm.get('phone')?.dirty),
           }"
            id="phone"
            type="tel"
            class="form-control"
            formControlName="phone"
          />
          @if (orderForm.get('phone')?.errors &&
          (orderForm.get('phone')?.touched ||orderForm.get('phone')?.dirty)){
          <div class="alert alert-danger">
            @if (orderForm.get('phone')?.getError('required')) {
            <p class="m-0">{{ "formprag.phone is required" | translate }}.</p>
            } @else if (orderForm.get('phone')?.getError('pattern')) {
            <p class="m-0">{{ "formprag.enter valid phone" | translate }}.</p>
            }
          </div>
          }
        </div>
        <div class="my-2">
          <label class="prag" for="city">{{ "exam.city" | translate }}</label>
          <input
            [ngClass]="{ 
              'is-valid':!orderForm.get('city')?.errors && (orderForm.get('city')?.touched ||
              orderForm.get('city')?.dirty),
              'is-invalid':orderForm.get('city')?.errors && (orderForm.get('city')?.touched ||
              orderForm.get('city')?.dirty),
           }"
            id="city"
            type="text"
            class="form-control"
            formControlName="city"
          />
          @if (orderForm.get('city')?.errors && (orderForm.get('city')?.touched
          ||orderForm.get('city')?.dirty)) {
          <div class="alert alert-danger">
            @if (orderForm.get('city')?.getError('required')) {
            <p class="m-0">{{ "formprag.city is required" | translate }}.</p>
            }
          </div>
          }
        </div>

        <button
          class="btn-main d-block"
          [class.ms-auto]="LangText()"
          [class.me-auto]="!LangText()"
          type="submit"
        >
          {{ "exam.confirm" | translate }} @if (isloading) {
          <span class="fas fa-spin fa-spinner"></span>}
        </button>
      </form>
      @if (messgsuc) {
      <p class="text-center alert alert-success w-50 mx-auto">
        {{ messgsuc }}
      </p>
      } @if (messgerr) {
      <p class="text-center alert alert-danger w-50 mx-auto">
        {{ messgerr }}
      </p>
      }
    </div>
  </section>
</div>
