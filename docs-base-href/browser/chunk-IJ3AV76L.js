import{a as X}from"./chunk-SMFGGRR3.js";import{a as $,b as v,c as j,d as U,g as z,h as H,i as J,j as K,k as Q}from"./chunk-I664SD7A.js";import{a as W}from"./chunk-IOSIQRUC.js";import"./chunk-BERYSRPB.js";import{g as k}from"./chunk-DDE3IR5B.js";import"./chunk-JOEL7TK6.js";import{h as L,p as R}from"./chunk-DKASN2F5.js";import{c as G,d as V}from"./chunk-JNWACT2K.js";import{Ab as M,Bb as w,Kb as o,Lb as B,Mb as p,Pb as O,Ra as i,Rb as P,Ub as a,Vb as s,aa as b,da as N,hb as h,jb as E,lb as D,nb as g,rb as r,sb as l,tb as x,ya as A}from"./chunk-X7B4DWKB.js";var F=(e,m)=>({"is-valid":e,"is-invalid":m});function Y(e,m){e&1&&(r(0,"p",27),o(1),a(2,"translate"),l()),e&2&&(i(),p(" ",s(2,1,"formprag.name is required"),". "))}function Z(e,m){e&1&&(r(0,"p",27),o(1),a(2,"translate"),l()),e&2&&(i(),p(" ",s(2,1,"formprag.name should be more or equal tha 3 chars"),". "))}function ee(e,m){e&1&&(r(0,"p",27),o(1),a(2,"translate"),l()),e&2&&(i(),p(" ",s(2,1,"formprag.name should be less or equal tha 20 chars"),". "))}function te(e,m){if(e&1&&(r(0,"div",14),h(1,Y,3,3,"p",27)(2,Z,3,3)(3,ee,3,3),l()),e&2){let n,d=w();i(),g(1,(n=d.register.get("name"))!=null&&n.getError("required")?1:(n=d.register.get("name"))!=null&&n.getError("minlength")?2:(n=d.register.get("name"))!=null&&n.getError("maxlength")?3:-1)}}function ie(e,m){e&1&&(r(0,"p",27),o(1),a(2,"translate"),l()),e&2&&(i(),p(" ",s(2,1,"formprag.email is required"),". "))}function ne(e,m){e&1&&(r(0,"p",27),o(1),a(2,"translate"),l()),e&2&&(i(),p(" ",s(2,1,"formprag.enter valid email"),". "))}function le(e,m){if(e&1&&(r(0,"div",14),h(1,ie,3,3,"p",27)(2,ne,3,3),l()),e&2){let n,d=w();i(),g(1,(n=d.register.get("email"))!=null&&n.getError("required")?1:(n=d.register.get("email"))!=null&&n.getError("email")?2:-1)}}function re(e,m){e&1&&(r(0,"p",27),o(1),a(2,"translate"),l()),e&2&&(i(),p(" ",s(2,1,"formprag.password is required"),". "))}function oe(e,m){e&1&&(r(0,"p",27),o(1),a(2,"translate"),l()),e&2&&(i(),p(" ",s(2,1,"formprag.enter valid password"),". "))}function ae(e,m){if(e&1&&(r(0,"div",14),h(1,re,3,3,"p",27)(2,oe,3,3),l()),e&2){let n,d=w();i(),g(1,(n=d.register.get("password"))!=null&&n.getError("required")?1:(n=d.register.get("password"))!=null&&n.getError("pattern")?2:-1)}}function se(e,m){e&1&&(r(0,"div",14)(1,"p",27),o(2),a(3,"translate"),l()()),e&2&&(i(2),p(" ",s(3,1,"formprag.password confirmation is incorrect")," . "))}function pe(e,m){e&1&&(r(0,"p",27),o(1),a(2,"translate"),l()),e&2&&(i(),p(" ",s(2,1,"formprag.phone is required"),". "))}function de(e,m){e&1&&(r(0,"p",27),o(1),a(2,"translate"),l()),e&2&&(i(),p(" ",s(2,1,"formprag.enter valid phone"),". "))}function me(e,m){if(e&1&&(r(0,"div",14),h(1,pe,3,3,"p",27)(2,de,3,3),l()),e&2){let n,d=w();i(),g(1,(n=d.register.get("phone"))!=null&&n.getError("required")?1:(n=d.register.get("phone"))!=null&&n.getError("pattern")?2:-1)}}function ue(e,m){e&1&&x(0,"span",24)}function ge(e,m){if(e&1&&(r(0,"p",25),o(1),l()),e&2){let n=w();i(),p(" ",n.messgerror," ")}}function ce(e,m){if(e&1&&(r(0,"p",26),o(1),l()),e&2){let n=w();i(),p(" ",n.messsuccess," ")}}var Te=(()=>{class e{constructor(){this._AuthenService=b(W),this._PaymentsService=b(X),this._FormBuilder=b(K),this._Router=b(k),this._PLATFORM_ID=b(A),this.messgerror="",this.messsuccess="",this.isloading=!1,this.register=this._FormBuilder.group({name:[null,[v.required,v.minLength(3),v.maxLength(20)]],email:[null,[v.required,v.email]],password:[null,[v.required,v.pattern(/^\w{6,}$/)]],rePassword:[null],phone:[null,[v.required,v.pattern(/^01[125][0-9]{8}$/)]]},{validators:this.repassword})}repassword(n){return n.get("password")?.value===n.get("rePassword")?.value?null:{mismatch:!0}}registerfunction(){this.register.valid?(this.isloading=!0,this.unsub=this._AuthenService.singup(this.register.value).subscribe({next:n=>{this.messsuccess=n.message,this.messgerror="",n.message=="success"&&(localStorage.setItem("token",n.token),this.unsubadd=this._PaymentsService.addTOCart().subscribe({next:d=>{this.isloading=!1,localStorage.setItem("cartId",d.cartId),d.status=="success"&&setTimeout(()=>{this._Router.navigate(["/examPleace"])},1e3)}}))},error:n=>{this.isloading=!1,this.messgerror=n.error.message,this.messsuccess=""}})):(this.register.setErrors({mismatch:!0}),this.register.markAllAsTouched())}LangText(){if(R(this._PLATFORM_ID)){if(localStorage.getItem("lang")!=null){if(localStorage.getItem("lang")=="en")return!0;if(localStorage.getItem("lang")=="ar")return!1}else if(localStorage.getItem("lang")==null)return!0}return!1}ngOnDestroy(){this.unsub?.unsubscribe(),this.unsubadd?.unsubscribe()}static{this.\u0275fac=function(d){return new(d||e)}}static{this.\u0275cmp=N({type:e,selectors:[["app-enroll"]],standalone:!0,features:[O],decls:66,vars:72,consts:[[1,"pt-5"],[1,"container","py-5","mt-3"],[1,"row","mt-5"],[1,"text","col-md-6"],[1,"py-4","sec-color","text-decoration-underline"],[1,"prag"],[1,"col-md-6"],[1,"theform","w-100","p-3","rounded-5","shadow-lg"],[1,"title"],[1,"sec-color","text-decoration-underline","text-center"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","name",1,"prag"],["id","name","type","sec","formControlName","name",1,"form-control",3,"ngClass"],[1,"alert","alert-danger"],["for","email",1,"prag"],["id","email","type","email","formControlName","email",1,"form-control",3,"ngClass"],["for","password",1,"prag"],["id","password","type","password","formControlName","password",1,"form-control",3,"ngClass"],["for","repassword",1,"prag"],["id","repassword","type","password","formControlName","rePassword",1,"form-control",3,"ngClass"],["for","phone",1,"prag"],["id","phone","type","tel","formControlName","phone",1,"form-control",3,"ngClass"],["type","submit",1,"btn-main","d-block"],[1,"fas","fa-spin","fa-spinner"],[1,"text-center","alert","alert-danger","w-50","mx-auto"],[1,"text-center","alert","alert-success","w-50","mx-auto"],[1,"m-0"]],template:function(d,t){if(d&1&&(r(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h2",4),o(5),a(6,"translate"),l(),r(7,"ol")(8,"li",5),o(9),a(10,"translate"),l(),r(11,"li",5),o(12),a(13,"translate"),l(),r(14,"li",5),o(15),a(16,"translate"),l(),r(17,"li",5),o(18),a(19,"translate"),l(),r(20,"li",5),o(21),a(22,"translate"),l()()(),r(23,"div",6)(24,"div",7)(25,"div",8)(26,"h2",9),o(27),a(28,"translate"),l()(),r(29,"form",10),M("ngSubmit",function(){return t.registerfunction()}),r(30,"div",11)(31,"label",12),o(32),a(33,"translate"),l(),x(34,"input",13),h(35,te,4,1,"div",14),l(),r(36,"div",11)(37,"label",15),o(38),a(39,"translate"),l(),x(40,"input",16),h(41,le,3,1,"div",14),l(),r(42,"div",11)(43,"label",17),o(44),a(45,"translate"),l(),x(46,"input",18),h(47,ae,3,1,"div",14),l(),r(48,"div",11)(49,"label",19),o(50),a(51,"translate"),l(),x(52,"input",20),h(53,se,4,3,"div",14),l(),r(54,"div",11)(55,"label",21),o(56),a(57,"translate"),l(),x(58,"input",22),h(59,me,3,1,"div",14),l(),r(60,"button",23),o(61),a(62,"translate"),h(63,ue,1,0,"span",24),l()(),h(64,ge,2,1,"p",25)(65,ce,2,1,"p",26),l()()()()()),d&2){let u,S,c,y,f,I,C,q,_,T;i(5),p(" ",s(6,31,"enroll.Terms And Conditions Of Enrollment")," : "),i(4),p(" ",s(10,33,"enroll.The duration of the diploma is two months from the date of the diploma start and not from the date of reservation, as the diploma dates are fixed and do not change from one person to another according to the reservation date"),". "),i(3),p(" ",s(13,35,"enroll.Upon reservation, the examinee will be notified of the exam date, provided that the exam is not connected to the Internet"),". "),i(3),p(" ",s(16,37,"enroll.The examinee must obtain 80% of the exam mark and the examinee will receive an accredited certificate"),". "),i(3),p(" ",s(19,39,"enroll.This diploma is intended for mothers and fathers, working women, or students who do not have enough time to attend"),". "),i(3),p(" ",s(22,41,"enroll.The Student is not entitled To a Refund Of Diploma Amount After Booking"),". "),i(6),p(" ",s(28,43,"enroll.Enroll Now")," "),i(2),E("formGroup",t.register),i(3),B(s(33,45,"enroll.Full Name")),i(2),E("ngClass",P(57,F,!((u=t.register.get("name"))!=null&&u.errors)&&(((u=t.register.get("name"))==null?null:u.touched)||((u=t.register.get("name"))==null?null:u.dirty)),((u=t.register.get("name"))==null?null:u.errors)&&(((u=t.register.get("name"))==null?null:u.touched)||((u=t.register.get("name"))==null?null:u.dirty)))),i(),g(35,(S=t.register.get("name"))!=null&&S.errors&&((S=t.register.get("name"))!=null&&S.touched||(S=t.register.get("name"))!=null&&S.dirty)?35:-1),i(3),B(s(39,47,"enroll.email")),i(2),E("ngClass",P(60,F,!((c=t.register.get("email"))!=null&&c.errors)&&(((c=t.register.get("email"))==null?null:c.touched)||((c=t.register.get("email"))==null?null:c.dirty)),((c=t.register.get("email"))==null?null:c.errors)&&(((c=t.register.get("email"))==null?null:c.touched)||((c=t.register.get("email"))==null?null:c.dirty)))),i(),g(41,(y=t.register.get("email"))!=null&&y.errors&&((y=t.register.get("email"))!=null&&y.touched||(y=t.register.get("email"))!=null&&y.dirty)?41:-1),i(3),B(s(45,49,"enroll.password")),i(2),E("ngClass",P(63,F,!((f=t.register.get("password"))!=null&&f.errors)&&(((f=t.register.get("password"))==null?null:f.touched)||((f=t.register.get("password"))==null?null:f.dirty)),((f=t.register.get("password"))==null?null:f.errors)&&(((f=t.register.get("password"))==null?null:f.touched)||((f=t.register.get("password"))==null?null:f.dirty)))),i(),g(47,(I=t.register.get("password"))!=null&&I.errors&&((I=t.register.get("password"))!=null&&I.touched||(I=t.register.get("password"))!=null&&I.dirty)?47:-1),i(3),B(s(51,51,"enroll.repassword")),i(2),E("ngClass",P(66,F,!t.register.getError("mismatch")&&(((C=t.register.get("rePassword"))==null?null:C.touched)||((C=t.register.get("rePassword"))==null?null:C.dirty)),t.register.getError("mismatch")&&(((C=t.register.get("rePassword"))==null?null:C.touched)||((C=t.register.get("rePassword"))==null?null:C.dirty)))),i(),g(53,t.register.getError("mismatch")&&((q=t.register.get("rePassword"))!=null&&q.touched||(q=t.register.get("rePassword"))!=null&&q.dirty)?53:-1),i(3),B(s(57,53,"enroll.phone")),i(2),E("ngClass",P(69,F,!((_=t.register.get("phone"))!=null&&_.errors)&&(((_=t.register.get("phone"))==null?null:_.touched)||((_=t.register.get("phone"))==null?null:_.dirty)),((_=t.register.get("phone"))==null?null:_.errors)&&(((_=t.register.get("phone"))==null?null:_.touched)||((_=t.register.get("phone"))==null?null:_.dirty)))),i(),g(59,(T=t.register.get("phone"))!=null&&T.errors&&((T=t.register.get("phone"))!=null&&T.touched||(T=t.register.get("phone"))!=null&&T.dirty)?59:-1),i(),D("ms-auto",t.LangText())("me-auto",!t.LangText()),i(),p(" ",s(62,55,"enroll.register")," "),i(2),g(63,t.isloading?63:-1),i(),g(64,t.messgerror?64:-1),i(),g(65,t.messsuccess?65:-1)}},dependencies:[Q,z,$,j,U,H,J,L,V,G],styles:[".login-form-content[_ngcontent-%COMP%]{width:75%}@media (min-width: 1200px){.login-form-content[_ngcontent-%COMP%]{width:60%}}"]})}}return e})();export{Te as EnrollComponent};
